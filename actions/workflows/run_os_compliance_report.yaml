version: 1.0

description: Runs a [g]luware OS version compliance report for a multiple sites.

input:
  - workflow_id: string
  - device_ids: array
  - input_params: object

vars:
  - wf_exec_status: null

output:
  - wf_exec_status: <% ctx().wf_exec_status %>

tasks:
  os_nc_ga010:
    action: gluware.run_workflow
    input:
      workflow_id: "6f5ac16b-559e-48ed-afa5-98f8af53e3fc"
      device_ids: []
      input_params:
        siteCodeName: "GA010"
    next:
      - when: <% succeeded() %>
        publish: wf_exec_status=<% result().result %>
  os_nc_ca050:
    action: gluware.run_workflow
    input:
      workflow_id: "6f5ac16b-559e-48ed-afa5-98f8af53e3fc"
      device_ids: []
      input_params:
        siteCodeName: "CA050"
    next:
      - when: <% succeeded() %>
        publish: wf_exec_status=<% result().result %>        
